(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3edf24bb"],{"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),a=n("2d00"),o=i("species");t.exports=function(t){return a>=51||!r((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4026:function(t,e,n){t.exports=n.p+"img/no-friends.b407842f.svg"},"5c59":function(t,e,n){},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),a=n("b622"),o=a("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"6c40":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"friends-page"}},[r("Header",{ref:"header"}),r("Aside",{attrs:{active:"Главная"}}),r("div",{staticClass:"container"},[r("div",{staticClass:"section first"},[r("router-link",{attrs:{to:"/"}},[r("span",{staticClass:"prev-page"},[r("svg",{staticClass:"svg-inline--fa fa-angle-left fa-w-8",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"angle-left",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"}},[r("path",{attrs:{fill:"currentColor",d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"}})]),t._v(" PREVIOUS PAGE ")])]),r("h3",[t._v("Друзья")])],1),r("div",{staticClass:"row"},[t.isFriendListEmpty?r("div",{staticClass:"no-friends col-12"},[r("img",{attrs:{src:n("4026"),alt:"No Results"}}),r("span",[t._v("Ваш список друзей пуст. Пора это исправить!")]),r("Button",{attrs:{isLink:"false",textContent:"Искать друзей",color:"btn-b margin-btn"},on:{action:t.openSearch}})],1):t._e(),t._l(t.friends,(function(t){return r("Friend",{key:t.id,attrs:{data:t}})}))],2)]),r("Footer")],1)},i=[],a=(n("99af"),n("b0c0"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),{name:"Friends",data:function(){return{id:"",email:"",username:"",name:"",friends:Array,isFriendListEmpty:!0}},beforeMount:function(){if(document.cookie){var t=document.cookie,e=t.replace(/token=/g,"");this.getData(e),this.getFriends(e)}else this.$router.push({name:"Signin"})},methods:{getData:function(t){var e=this,n=new Headers;n.append("Authorization","Token ".concat(t));var r={method:"GET",headers:n,redirect:"follow"};fetch("http://95.214.62.187/auth/me/",r).then((function(t){return t.text()})).then((function(n){var r=JSON.parse(n);e.type=r.data.type,e.id=r.data.id,e.username=r.data.attributes.username,e.email=r.data.attributes.email,e.getUser(t)})).catch((function(t){return console.log("error",t)}))},getUser:function(t){var e=this,n=new Headers;n.append("Authorization","Token ".concat(t));var r=new URLSearchParams;r.append("user_id",this.id);var i={method:"POST",headers:n,body:r};fetch("http://95.214.62.187/api/v1/main/users/",i).then((function(t){return t.text()})).then((function(t){var n=JSON.parse(t);console.log(n),e.name="".concat(n.data.data[0].first_name," ").concat(n.data.data[0].last_name)})).catch((function(t){return console.log("error",t)}))},getFriends:function(t){var e=this,n=new Headers;n.append("Authorization","Token ".concat(t));var r={method:"GET",headers:n,redirect:"follow"};fetch("http://95.214.62.187/api/v1/main/friendship/",r).then((function(t){return t.text()})).then((function(t){var n=JSON.parse(t);e.friends=n.data.data,0!=e.friends.length&&(e.isFriendListEmpty=!1)})).catch((function(t){return console.log("error",t)}))},openSearch:function(){this.$refs.header.showSearchOverlay()}},components:{Header:function(){return n.e("chunk-36c929e6").then(n.bind(null,"0418"))},Aside:function(){return n.e("chunk-6b748234").then(n.bind(null,"3d13"))},Friend:function(){return n.e("chunk-3c757d8a").then(n.bind(null,"84ad"))},Button:function(){return n.e("chunk-44baf13f").then(n.bind(null,"f577"))},Footer:function(){return n.e("chunk-d06359f4").then(n.bind(null,"fd2d"))}}}),o=a,c=(n("bb9e"),n("2877")),s=Object(c["a"])(o,r,i,!1,null,"514c12e2",null);e["default"]=s.exports},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var o=r(e);o in t?i.f(t,o,a(0,n)):t[o]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),c=n("7b0b"),s=n("50c4"),u=n("8418"),d=n("65f0"),f=n("1dde"),l=n("b622"),h=n("2d00"),p=l("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",m=h>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=f("concat"),L=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)},S=!m||!g;r({target:"Array",proto:!0,forced:S},{concat:function(t){var e,n,r,i,a,o=c(this),f=d(o,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?o:arguments[e],L(a)){if(i=s(a.length),l+i>v)throw TypeError(b);for(n=0;n<i;n++,l++)n in a&&u(f,l,a[n])}else{if(l>=v)throw TypeError(b);u(f,l++,a)}return f.length=l,f}})},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in a)&&i(a,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},bb9e:function(t,e,n){"use strict";var r=n("5c59"),i=n.n(r);i.a},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-3edf24bb.0c03913c.js.map