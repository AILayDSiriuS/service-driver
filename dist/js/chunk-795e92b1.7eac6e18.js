(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-795e92b1"],{"0a99":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"me-page"}},[n("Header"),n("Aside",{attrs:{active:"Главная"}}),n("div",{staticClass:"container"},[n("div",{staticClass:"row section first"},[n("div",{staticClass:"col-12 profile-header"},[n("div",{staticClass:"profile-header__left"},[n("div",{staticClass:"profile-picture"}),n("div",{staticClass:"profile-name"},[n("h3",[t._v(t._s(t.name))]),n("span",[t._v("USER")])])]),n("div",{staticClass:"profile-header__right"},[n("Button",{attrs:{isLink:"true",link:"/",textContent:"Редактировать профиль",color:"btn-b"}})],1)])]),t.friends.length>0?n("div",{staticClass:"row section first"},[n("div",{staticClass:"col-12 profile-friends"},[t._m(0),n("div",{staticClass:"profile-friends__body"},t._l(t.friends,(function(t){return n("ProfileFriend",{key:t.id,attrs:{data:t}})})),1)])]):t._e()]),n("Footer")],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile-friends__topic"},[n("h4",[t._v("Друзья")]),n("span",[t._v("Показать всех")])])}],a=(n("99af"),n("b0c0"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("2b3d"),{name:"Me",data:function(){return{id:"",email:"",username:"",name:"",friends:""}},beforeMount:function(){if(document.cookie){var t=document.cookie,e=t.replace(/token=/g,"");this.getData(e),this.getFriends(e)}else this.$router.push({name:"Signin"})},methods:{getData:function(t){var e=this,n=new Headers;n.append("Authorization","Token ".concat(t));var r={method:"GET",headers:n,redirect:"follow"};fetch("http://95.214.62.187/auth/me/",r).then((function(t){return t.text()})).then((function(n){var r=JSON.parse(n);e.type=r.data.type,e.id=r.data.id,e.username=r.data.attributes.username,e.email=r.data.attributes.email,e.getUser(t)})).catch((function(t){return console.log("error",t)}))},getUser:function(t){var e=this,n=new Headers;n.append("Authorization","Token ".concat(t));var r=new URLSearchParams;r.append("user_id",this.id);var i={method:"POST",headers:n,body:r};fetch("http://95.214.62.187/api/v1/main/users/",i).then((function(t){return t.text()})).then((function(t){var n=JSON.parse(t);console.log(n),e.name="".concat(n.data.data[0].first_name," ").concat(n.data.data[0].last_name)})).catch((function(t){return console.log("error",t)}))},getFriends:function(t){var e=this,n=new Headers;n.append("Authorization","Token ".concat(t));var r={method:"GET",headers:n,redirect:"follow"};fetch("http://95.214.62.187/api/v1/main/friendship/",r).then((function(t){return t.text()})).then((function(t){var n=JSON.parse(t);e.friends=n.data.data,0!=e.friends.length&&(e.isFriendListEmpty=!1)})).catch((function(t){return console.log("error",t)}))}},components:{Header:function(){return n.e("chunk-36c929e6").then(n.bind(null,"0418"))},Aside:function(){return n.e("chunk-6b748234").then(n.bind(null,"3d13"))},Footer:function(){return n.e("chunk-d06359f4").then(n.bind(null,"fd2d"))},Button:function(){return n.e("chunk-44baf13f").then(n.bind(null,"f577"))},ProfileFriend:function(){return n.e("chunk-3230a706").then(n.bind(null,"99ea"))}}}),o=a,c=(n("8e44"),n("2877")),s=Object(c["a"])(o,r,i,!1,null,"5225dd52",null);e["default"]=s.exports},"1dde":function(t,e,n){var r=n("d039"),i=n("b622"),a=n("2d00"),o=i("species");t.exports=function(t){return a>=51||!r((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"528e":function(t,e,n){},"65f0":function(t,e,n){var r=n("861d"),i=n("e8b5"),a=n("b622"),o=a("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},8418:function(t,e,n){"use strict";var r=n("c04e"),i=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var o=r(e);o in t?i.f(t,o,a(0,n)):t[o]=n}},"8e44":function(t,e,n){"use strict";var r=n("528e"),i=n.n(r);i.a},"99af":function(t,e,n){"use strict";var r=n("23e7"),i=n("d039"),a=n("e8b5"),o=n("861d"),c=n("7b0b"),s=n("50c4"),u=n("8418"),d=n("65f0"),f=n("1dde"),l=n("b622"),h=n("2d00"),p=l("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",b=h>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),L=f("concat"),g=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)},S=!b||!L;r({target:"Array",proto:!0,forced:S},{concat:function(t){var e,n,r,i,a,o=c(this),f=d(o,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?o:arguments[e],g(a)){if(i=s(a.length),l+i>v)throw TypeError(m);for(n=0;n<i;n++,l++)n in a&&u(f,l,a[n])}else{if(l>=v)throw TypeError(m);u(f,l++,a)}return f.length=l,f}})},b0c0:function(t,e,n){var r=n("83ab"),i=n("9bf2").f,a=Function.prototype,o=a.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in a)&&i(a,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-795e92b1.7eac6e18.js.map