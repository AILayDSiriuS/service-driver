(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eab466f6","chunk-46f26466","chunk-36c929e6","chunk-4fd13215"],{"0418":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("transition",{attrs:{name:"fade"}},[n("SearchOverlay",{directives:[{name:"show",rawName:"v-show",value:e.isSearchOverlayVisible,expression:"isSearchOverlayVisible"}],on:{close:e.closeSearchOverlay}})],1),n("router-link",{attrs:{to:"/"}},[n("div",{staticClass:"logo"},[n("h2",[e._v("ServiceDriver")])])]),n("div",{staticClass:"profile"},[n("div",{staticClass:"actions"},[n("div",{class:e.search,on:{click:e.showSearchOverlay}},[n("img",{attrs:{src:i("2f4d"),alt:"Search"}})]),n("div",{class:e.notification,on:{click:e.changeNotificationMenuState}},[0!=e.requests.length?n("div",{staticClass:"notify-counter"},[n("span",[e._v(e._s(e.requests.length))])]):e._e(),n("img",{attrs:{src:i("5b43"),alt:"Notification"}}),n("transition",{attrs:{name:"fade"}},[n("NotificationMenu",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideNotificationMenu,expression:"hideNotificationMenu"},{name:"show",rawName:"v-show",value:e.isNotificationMenuOpened,expression:"isNotificationMenuOpened"}]})],1)],1)]),n("div",{staticClass:"quickProfile"},[n("div",{class:e.quickProfile,on:{click:e.changeProfileState}},[n("span",[e._v(e._s(e.name))]),n("div",{attrs:{id:"profilePicture"}}),e._m(0)]),n("transition",{attrs:{name:"fade"}},[e.isQuickProfileOpened?n("QuickProfile",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideProfile,expression:"hideProfile"}],attrs:{email:e.email,username:e.name},on:{closeProfile:e.hideProfile}}):e._e()],1)],1)])],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"profileMenu"}},[n("img",{attrs:{src:i("122e"),alt:"Menu"}})])}],a=(i("99af"),i("b0c0"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("ddb0"),i("2b3d"),i("e67d")),o=i.n(a),c={name:"Header",data:function(){return{id:"",email:"",username:"",name:"",isQuickProfileOpened:!1,isSearchOverlayVisible:!1,isNotificationMenuOpened:!1,requests:""}},computed:{quickProfile:function(){return this.isQuickProfileOpened?"quick-profile-wrapper quick-profile-active":"quick-profile-wrapper"},search:function(){return this.isSearchOverlayVisible?"search search-active":"search"},notification:function(){return this.isNotificationMenuOpened?"notification notification-active":"notification"}},beforeMount:function(){if(document.cookie){var e=document.cookie,t=e.replace(/token=/g,"");this.getData(t),this.getFriendRequests(t)}else this.$router.push({name:"Signin"})},methods:{getData:function(e){var t=this,i=new Headers;i.append("Authorization","Token ".concat(e));var n={method:"GET",headers:i,redirect:"follow"};fetch("http://95.214.62.187/auth/me/",n).then((function(e){return e.text()})).then((function(i){var n=JSON.parse(i);t.type=n.data.type,t.id=n.data.id,t.username=n.data.attributes.username,t.email=n.data.attributes.email,t.getUser(e)})).catch((function(e){return console.log("error",e)}))},getUser:function(e){var t=this,i=new Headers;i.append("Authorization","Token ".concat(e));var n=new URLSearchParams;n.append("user_id",this.id);var r={method:"POST",headers:i,body:n};fetch("http://95.214.62.187/api/v1/main/users/",r).then((function(e){return e.text()})).then((function(e){var i=JSON.parse(e);t.name="".concat(i.data.data[0].first_name," ").concat(i.data.data[0].last_name)})).catch((function(e){return console.log("error",e)}))},hideProfile:function(){this.isQuickProfileOpened=!1},changeProfileState:function(){this.isSearchOverlayVisible=!1,this.isNotificationMenuOpened=!1,this.isQuickProfileOpened?this.isQuickProfileOpened=!1:this.isQuickProfileOpened=!0},hideNotificationMenu:function(){this.isNotificationMenuOpened=!1},changeNotificationMenuState:function(){this.isQuickProfileOpened=!1,this.isSearchOverlayVisible=!1,this.isNotificationMenuOpened?this.isNotificationMenuOpened=!1:this.isNotificationMenuOpened=!0},showSearchOverlay:function(){this.isQuickProfileOpened=!1,this.isNotificationMenuOpened=!1,this.isSearchOverlayVisible=!0},closeSearchOverlay:function(){this.isSearchOverlayVisible=!1},getFriendRequests:function(e){var t=this,i=new Headers;i.append("Authorization","Token ".concat(e));var n={method:"GET",headers:i};fetch("http://95.214.62.187/api/v1/main/friendship/friend_requests/me/",n).then((function(e){return e.text()})).then((function(e){var i=JSON.parse(e);t.requests=i.data.data})).catch((function(e){return console.log("error",e)}))}},components:{QuickProfile:function(){return i.e("chunk-e76f88f8").then(i.bind(null,"5f48"))},NotificationMenu:function(){return i.e("chunk-4bd9230e").then(i.bind(null,"bc6f"))},SearchOverlay:function(){return i.e("chunk-dd7c7222").then(i.bind(null,"6426"))}},directives:{ClickOutside:o.a},mounted:function(){this.popupItem=this.$el}},s=c,u=(i("8baf"),i("2877")),f=Object(u["a"])(s,n,r,!1,null,null,null);t["default"]=f.exports},"122e":function(e,t,i){e.exports=i.p+"img/Arrow.a2da8913.svg"},"1dde":function(e,t,i){var n=i("d039"),r=i("b622"),a=i("2d00"),o=r("species");e.exports=function(e){return a>=51||!n((function(){var t=[],i=t.constructor={};return i[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2f4d":function(e,t,i){e.exports=i.p+"img/Search.d453a31d.svg"},"5b43":function(e,t,i){e.exports=i.p+"img/Notification.073c087d.svg"},"65f0":function(e,t,i){var n=i("861d"),r=i("e8b5"),a=i("b622"),o=a("species");e.exports=function(e,t){var i;return r(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[o],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},6860:function(e,t,i){},8418:function(e,t,i){"use strict";var n=i("c04e"),r=i("9bf2"),a=i("5c6c");e.exports=function(e,t,i){var o=n(t);o in e?r.f(e,o,a(0,i)):e[o]=i}},"8baf":function(e,t,i){"use strict";var n=i("6860"),r=i.n(n);r.a},"99af":function(e,t,i){"use strict";var n=i("23e7"),r=i("d039"),a=i("e8b5"),o=i("861d"),c=i("7b0b"),s=i("50c4"),u=i("8418"),f=i("65f0"),l=i("1dde"),d=i("b622"),h=i("2d00"),p=d("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",k=h>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=l("concat"),S=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:a(e)},O=!k||!b;n({target:"Array",proto:!0,forced:O},{concat:function(e){var t,i,n,r,a,o=c(this),l=f(o,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?o:arguments[t],S(a)){if(r=s(a.length),d+r>v)throw TypeError(m);for(i=0;i<r;i++,d++)i in a&&u(l,d,a[i])}else{if(d>=v)throw TypeError(m);u(l,d++,a)}return l.length=d,l}})},b0c0:function(e,t,i){var n=i("83ab"),r=i("9bf2").f,a=Function.prototype,o=a.toString,c=/^\s*function ([^ (]*)/,s="name";n&&!(s in a)&&r(a,s,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(e){return""}}})},e67d:function(e,t){function i(e){return"function"===typeof e.value||(console.warn("[Vue-click-outside:] provided expression",e.expression,"is not a function."),!1)}function n(e,t){if(!e||!t)return!1;for(var i=0,n=t.length;i<n;i++)try{if(e.contains(t[i]))return!0;if(t[i].contains(e))return!1}catch(r){return!1}return!1}function r(e){return"undefined"!==typeof e.componentInstance&&e.componentInstance.$isServer}e.exports={bind:function(e,t,a){if(!i(t))return;function o(t){if(a.context){var i=t.path||t.composedPath&&t.composedPath();i&&i.length>0&&i.unshift(t.target),e.contains(t.target)||n(a.context.popupItem,i)||e.__vueClickOutside__.callback(t)}}e.__vueClickOutside__={handler:o,callback:t.value};const c="ontouchstart"in document.documentElement?"touchstart":"click";!r(a)&&document.addEventListener(c,o)},update:function(e,t){i(t)&&(e.__vueClickOutside__.callback=t.value)},unbind:function(e,t,i){const n="ontouchstart"in document.documentElement?"touchstart":"click";!r(i)&&e.__vueClickOutside__&&document.removeEventListener(n,e.__vueClickOutside__.handler),delete e.__vueClickOutside__}}},e8b5:function(e,t,i){var n=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-eab466f6.356d9edc.js.map