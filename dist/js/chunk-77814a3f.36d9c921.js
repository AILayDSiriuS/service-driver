(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77814a3f"],{"11a2":function(e,t,r){"use strict";var n=r("f8e4"),a=r.n(n);a.a},1344:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signin col-4 offset-1"},[n("div",{staticClass:"signin-top"},[e._m(0),n("form",{on:{submit:function(e){e.preventDefault()}}},[n("div",{staticClass:"input-text"},[n("label",{attrs:{for:"email"}},[e._v("E-Mail")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),n("div",{staticClass:"input-text"},[n("label",{attrs:{for:"password"}},[e._v("Пароль")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("img",{attrs:{src:r("7cc4"),alt:""},on:{click:e.changeVisibility}})]),n("div",{staticClass:"form_checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.remember,expression:"remember"}],attrs:{type:"checkbox",id:"remember"},domProps:{checked:Array.isArray(e.remember)?e._i(e.remember,null)>-1:e.remember},on:{change:function(t){var r=e.remember,n=t.target,a=!!n.checked;if(Array.isArray(r)){var o=null,i=e._i(r,o);n.checked?i<0&&(e.remember=r.concat([o])):i>-1&&(e.remember=r.slice(0,i).concat(r.slice(i+1)))}else e.remember=a}}}),n("label",{attrs:{for:"remember"}},[e._v("Запомнить меня")])]),e.error?n("div",{staticClass:"error-msg"},[n("span",{staticClass:"error"},[e._v(" "+e._s(e.error)+" ")])]):e._e()])]),n("div",{staticClass:"signin-bottom"},[n("Button",{attrs:{isLink:"false",color:"btn-b",textContent:"Войти"},on:{action:e.sendRequest}}),n("a",{attrs:{href:"#"}},[e._v("Забыли пароль?")])],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"signin-head"},[n("h2",[e._v("Вход")]),n("div",{staticClass:"social"},[n("img",{attrs:{src:r("5b75"),alt:"FB"}}),n("img",{attrs:{src:r("1efa"),alt:"VK"}})])])}],o=(r("99af"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),{name:"SigninWindow",data:function(){return{email:"",password:"",remember:!1,error:""}},components:{Button:function(){return r.e("chunk-44baf13f").then(r.bind(null,"f577"))}},methods:{sendRequest:function(){var e=this,t=new Headers;t.append("Content-Type","application/x-www-form-urlencoded");var r=new URLSearchParams;r.append("password",this.password),r.append("username",this.email.toLowerCase());var n={method:"POST",headers:t,body:r,redirect:"follow"};fetch("http://95.214.62.187/auth/token/create/",n).then((function(e){return e.text()})).then((function(t){var r=JSON.parse(t),n=r.errors;if(n)return e.error=n[0].detail,void("Unable to login with provided credentials."==e.error&&(e.error="Введен неверный логин или пароль. Повторите попытку."));var a=r.data.attributes.auth_token,o=new Date;null!=localStorage.getItem("first_name")&&null!=localStorage.getItem("last_name")&&(e.updateProfile(a),localStorage.removeItem("first_name"),localStorage.removeItem("last_name")),o.setDate(o.getDate()+365),e.remember?document.cookie="token=".concat(a,";expires=").concat(o):document.cookie="token=".concat(a),e.$router.push({name:"Home"})})).catch((function(e){return console.log("error",e)}))},updateProfile:function(e){var t=new Headers;t.append("Content-Type","application/x-www-form-urlencoded"),t.append("Authorization","Token ".concat(e));var r=new URLSearchParams;r.append("first_name",localStorage.getItem("first_name")),r.append("last_name",localStorage.getItem("last_name"));var n={method:"POST",headers:t,body:r,redirect:"follow"};fetch("http://95.214.62.187/api/v1/main/users/info",n).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))},changeVisibility:function(){var e=document.querySelector("#password");"password"==e.type?e.type="text":e.type="password"}}}),i=o,s=(r("11a2"),r("2877")),c=Object(s["a"])(i,n,a,!1,null,"659ae371",null);t["default"]=c.exports},"1dde":function(e,t,r){var n=r("d039"),a=r("b622"),o=r("2d00"),i=a("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1efa":function(e,t,r){e.exports=r.p+"img/VK.31fff1fb.svg"},"5b75":function(e,t,r){e.exports=r.p+"img/FB.020cc7d8.svg"},"65f0":function(e,t,r){var n=r("861d"),a=r("e8b5"),o=r("b622"),i=o("species");e.exports=function(e,t){var r;return a(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"7cc4":function(e,t,r){e.exports=r.p+"img/Visibility.100b737f.svg"},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var i=n(t);i in e?a.f(e,i,o(0,r)):e[i]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),o=r("e8b5"),i=r("861d"),s=r("7b0b"),c=r("50c4"),l=r("8418"),u=r("65f0"),d=r("1dde"),m=r("b622"),f=r("2d00"),p=m("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",h=f>=51||!a((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=d("concat"),w=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},S=!h||!g;n({target:"Array",proto:!0,forced:S},{concat:function(e){var t,r,n,a,o,i=s(this),d=u(i,0),m=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?i:arguments[t],w(o)){if(a=c(o.length),m+a>v)throw TypeError(b);for(r=0;r<a;r++,m++)r in o&&l(d,m,o[r])}else{if(m>=v)throw TypeError(b);l(d,m++,o)}return d.length=m,d}})},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},f8e4:function(e,t,r){},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-77814a3f.36d9c921.js.map