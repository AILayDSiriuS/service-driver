{"version":3,"sources":["webpack:///./src/assets/illustrations/no-result.svg","webpack:///./src/views/SearchResults.vue?7b58","webpack:///./src/views/SearchResults.vue?6b16","webpack:///src/views/SearchResults.vue","webpack:///./src/views/SearchResults.vue?3929","webpack:///./src/views/SearchResults.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticClass","_v","undefined","query","_s","_e","_l","user","key","id","found_users","length","on","openSearch","staticRenderFns","name","data","beforeMount","getData","token","getUsersList","$router","push","computed","users_filtered","users","i","methods","myHeaders","append","method","headers","redirect","fetch","requestOptions","$refs","header","showSearchOverlay","watch","$route","toRoute","params","components","Header","Aside","Hint","User","Button","Footer","component"],"mappings":"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","file":"js/chunk-52866ca7.3246c33c.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/no-result.9fa67bb7.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=style&index=0&id=f15f2192&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=style&index=0&id=f15f2192&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"search-page\"}},[_c('Header',{ref:\"header\"}),_c('Aside',{attrs:{\"active\":\"Главная\"}}),_c('div',{staticClass:\"container\"},[_c('Hint',{staticClass:\"section first\",attrs:{\"title\":\"Тестовый режим\",\"description\":\"В настоящее время функция поиска работает только среди пользователей.\"}}),_c('div',{staticClass:\"col-12 search-page section first\"},[_c('div',{staticClass:\"first\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('span',{staticClass:\"prev-page\"},[_c('svg',{staticClass:\"svg-inline--fa fa-angle-left fa-w-8\",attrs:{\"aria-hidden\":\"true\",\"focusable\":\"false\",\"data-prefix\":\"fas\",\"data-icon\":\"angle-left\",\"role\":\"img\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 256 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"}})]),_vm._v(\" ГЛАВНАЯ \")])]),(_vm.query != undefined)?_c('h3',[_vm._v(\"Результаты поиска по запросу «\"),_c('span',{staticClass:\"query-span\"},[_vm._v(_vm._s(_vm.query))]),_vm._v(\"»\")]):_vm._e(),(_vm.query == undefined)?_c('h3',[_vm._v(\"Список всех пользователей платформы\")]):_vm._e(),_c('div',{staticClass:\"first\"},[_vm._l((_vm.found_users),function(user){return _c('User',{key:user.id,attrs:{\"data\":user}})}),(_vm.found_users.length == 0 && _vm.query != undefined)?_c('div',{staticClass:\"no-result col-12\"},[_c('img',{attrs:{\"src\":require(\"@/assets/illustrations/no-result.svg\"),\"alt\":\"No Results\"}}),_c('span',[_vm._v(\"К сожалению, по вашему запросу ничего не найдено\")]),_c('Button',{attrs:{\"isLink\":\"false\",\"textContent\":\"Искать еще\",\"color\":\"btn-b margin-btn\"},on:{\"action\":_vm.openSearch}})],1):_vm._e()],2)],1)])],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"search-page\">\n    <Header ref=\"header\" />\n    <Aside active=\"Главная\"/>\n    <div class=\"container\">\n      <Hint class=\"section first\" title=\"Тестовый режим\" description=\"В настоящее время функция поиска работает только среди пользователей.\" />\n      <div class=\"col-12 search-page section first\">\n        <div class=\"first\">\n          <router-link to=\"/\">\n            <span class=\"prev-page\">\n              <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-left\" class=\"svg-inline--fa fa-angle-left fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\">\n              <path fill=\"currentColor\" d=\"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"></path>\n            </svg>\n              ГЛАВНАЯ\n            </span>\n          </router-link>\n          <h3 v-if=\"query != undefined\">Результаты поиска по запросу «<span class=\"query-span\">{{ query }}</span>»</h3>\n          <h3 v-if=\"query == undefined\">Список всех пользователей платформы</h3>\n          <div class=\"first\">\n            <User v-for=\"user in found_users\" :key=\"user.id\" :data=\"user\" />\n            <div class=\"no-result col-12\" v-if=\"found_users.length == 0 && query != undefined\">\n              <img src=\"@/assets/illustrations/no-result.svg\" alt=\"No Results\">\n              <span>К сожалению, по вашему запросу ничего не найдено</span>\n              <Button isLink=\"false\" @action=\"openSearch\" textContent=\"Искать еще\" color=\"btn-b margin-btn\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Footer />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SearchResults',\n  data:\n      function () {\n        return {\n          id: '',\n          email: '',\n          username: '',\n          query: this.$route.params['query'],\n          users: []\n        }\n      },\n  beforeMount: function() {\n    if(document.cookie) {\n      let cookie = document.cookie,\n          token = cookie.replace(/token=/g, '');\n      this.getData(token);\n      this.getUsersList(token)\n    } else {\n      this.$router.push({ name: 'Signin' });\n    }\n  },\n  computed: {\n    found_users: function () {\n      let users_filtered = [];\n      if(this.query != undefined) {\n        for(let i = 0; i < this.users.length; i++) {\n          if(this.users[i].first_name == this.query || this.users[i].last_name == this.query || this.users[i].first_name.toLowerCase() == this.query || this.users[i].last_name.toLowerCase() == this.query || this.users[i].username == this.query) {\n            users_filtered.push(this.users[i]);\n          }\n        }\n      }\n      if(this.query == undefined) {\n        for(let i = 0; i < this.users.length; i++) {\n          if(this.users[i].first_name != '' && this.users[i].last_name != '') {\n            users_filtered.push(this.users[i]);\n          }\n        }\n      }\n      return users_filtered;\n    }\n  },\n  methods: {\n    getData: function(token) {\n      let myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", `Token ${token}`);\n\n      let requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n      };\n\n      fetch(\"http://95.214.62.187/auth/me/\", requestOptions)\n          .then(response => response.text())\n          .then(result => {\n            let profileData = JSON.parse(result);\n            this.type = profileData.data.type;\n            this.id = profileData.data.id;\n            this.username = profileData.data.attributes.username;\n            this.email = profileData.data.attributes.email;\n          })\n          .catch(error => console.log('error', error));\n    },\n    getUsersList: function(token) {\n    //  http://95.214.62.187/api/v1/main/users/\n      let myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", `Token ${token}`);\n\n      let requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n      };\n\n      fetch(\"http://95.214.62.187/api/v1/main/users/\", requestOptions)\n          .then(response => response.text())\n          .then(result => {\n            let res = JSON.parse(result);\n            this.users = res.data.data;\n            this.doSearch();\n          })\n          .catch(error => console.log('error', error));\n    },\n    openSearch: function() {\n      this.$refs.header.showSearchOverlay();\n    }\n  },\n  watch: {\n    $route(toRoute) {\n      this.query = toRoute.params['query']\n    }\n  },\n  components: {\n    Header: () => import('@/components/Header.vue'),\n    Aside: () => import('@/components/Aside.vue'),\n    Hint: () => import('@/components/Blocks/Hint.vue'),\n    User: () => import('@/components/Blocks/User.vue'),\n    Button: () => import('@/components/Buttons/Button'),\n    Footer: () => import('@/components/Footer.vue')\n  }\n}\n</script>\n\n<style scoped>\n  .prev-page {\n    font-family: \"Source Sans Pro\", sans-serif;\n    font-size: 16px;\n    font-weight: 600;\n    color: #C0BFD3;\n  }\n\n  .search-page h3 {\n    font-size: 22px;\n    font-weight: 600;\n    color: #3B405C;\n  }\n\n  .prev-page svg {\n    height: 10px;\n  }\n\n  .router-link-active {\n    color: #C0BFD3;\n  }\n\n  .query-span {\n    color: #9677F1;\n  }\n\n  .no-result {\n    margin-top: 90px;\n    display: flex;\n    flex-flow:column nowrap;\n    align-items: center;\n  }\n\n  .no-result img {\n    height: 246px;\n  }\n\n  .no-result span {\n    margin-top: 45px;\n    font-family: \"Montserrat\", sans-serif;\n    font-size: 18px;\n    font-weight: 600;\n    color: #6D7188;\n  }\n\n  .margin-btn {\n    margin-top: 40px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResults.vue?vue&type=template&id=f15f2192&scoped=true&\"\nimport script from \"./SearchResults.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResults.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResults.vue?vue&type=style&index=0&id=f15f2192&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f15f2192\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}